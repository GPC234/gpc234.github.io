<!doctype html> <!-- 声明文档类型为 HTML5，这是 HTML5 标准的文档声明方式 -->
<html lang="zh-cn"> <!-- 定义 HTML 文档的根元素，lang 属性指定页面主要语言为中文（中国大陆） -->
<head> <!-- 文档头部开始，用于包含元数据、样式、脚本等不直接显示在页面中的内容 -->
    <!-- 设置视口参数，使页面在移动设备上正确显示
         width=device-width: 视口宽度等于设备宽度
         user-scalable=yes: 允许用户缩放页面（默认值，可省略）
         建议添加 initial-scale=1.0 确保初始缩放比例正确 -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
    
    <!-- 设置文档的语言编码，虽然 HTML5 中推荐使用 lang 属性，但保留此标签兼容旧浏览器 -->
    <meta http-equiv='content-language' content='zh-cn'>
    
    <!-- 网站图标设置区域 -->
    <!-- 标准浏览器图标 -->
    <link rel="icon" href="/favicon.ico" type="image/x-icon" alt="网站图标">
    <!-- 快捷方式图标（IE 兼容） -->
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" alt="网站快捷图标"/>
    <!-- 苹果设备触摸图标（添加到主屏幕时使用） -->
    <link rel="apple-touch-icon" href="/favicon.ico" alt="苹果设备图标"/>
    <!-- 苹果设备启动画面图标（应用启动时显示） -->
    <link rel="apple-touch-startup-image" href="/favicon.ico" alt="苹果设备启动画面"/>
    <!-- 高分辨率设备图标（如 Android 高dpi设备） -->
    <link rel="icon" sizes="192x192" href="/favicon.ico" alt="高分辨率设备图标"/>
    <!-- 定义图标遮罩（主要用于 Safari 等浏览器） -->
    <link rel="icon" sizes="any" mask href="/favicon.ico" alt="图标遮罩" />
    <!-- 苹果设备预合成图标（不添加系统默认光泽效果） -->
    <link rel="apple-touch-icon-precomposed" href="/favicon.ico" alt="苹果设备预合成图标">
    
    <!-- 告知浏览器该页面适合作为移动端Web应用运行
         添加到主屏幕后，会隐藏浏览器地址栏，更接近原生应用体验 -->
    <meta name="mobile-web-app-capable" content="yes"/>
    
    <!-- DNS预解析，提前解析指定域名的IP地址，加快后续资源加载速度 -->
    <link rel="dns-prefetch" href="//"/>    
    
    <!-- 设置文档的字符编码为UTF-8，确保页面文字正确显示，防止乱码 -->
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    
    <!-- CSS样式定义部分开始 -->
    <style type="text/css">
      /* 为所有的a标签设置样式 */
      A {
        text-decoration: none; /* 去除a标签的下划线（建议使用小写属性名，符合CSS规范） */
        font-weight: bold; /* 为a标签设置粗体样式 */
        font-size: 32px; /* 为a标签设置字体大小为32像素 */
      }
    </style>
    <!-- CSS样式定义部分结束 -->

 <title>搜索:网上用户</title>
<meta name="keywords" content=",搜索:网上用户,网上用户,上网用户,用户,公平村,GPC234,GPCZXS" /><!--关键词-->
<meta name="description" content="" />
</head> <!-- 文档头部结束 -->

<span style="font-size: 18px;"><!--字体大小-->
<strong><!--加粗-->

<!--左上角-->&nbsp; &nbsp; <a href="../h/h1.jpg" target="_blank">
<img src="../h/h1.jpg" alt="网上用户" width="" height="35" title="" align="" /></a>
<a id="gpc234" href="../h/h1.html" target="_blank"><img src="../h/h2.jpg" alt="搜索:网上用户" width="" height="35" title="" align="" /></a><!--左上角-->

<hr color=0066FF> <!--分界线-->

<center><!--居中-->



<br/>(广告)<br/>
<!--自动随机图片-->
<!-- 第1张随机图片 -->
<img id="randomJpg1" src="" alt="网上用户的图片,搜索:网上用户,公平村,GPC234,GPCZXS" width="350" style="height: auto; margin: 10px;" />
<!-- 第2张随机图片 -->
<img id="randomJpg2" src="" alt="网上用户的图片,搜索:网上用户,公平村,GPC234,GPCZXS" width="350" style="height: auto; margin: 10px;" />
<!-- 第3张随机图片 -->
<img id="randomJpg3" src="" alt="网上用户的图片,搜索:网上用户,公平村,GPC234,GPCZXS" width="350" style="height: auto; margin: 10px;" />
<!-- 如需更多图片，复制上方<img>标签并修改id（如randomJpg4、randomJpg5） -->

<script>
// 1. 生成指定范围的随机数（工具函数）
const getRandomNumber = (min, max) => Math.floor(Math.random() * (max - min + 1)) + min;

// 2. 完整配置项（保留原代码所有目录、域名，无任何省略）
const baseConfig = {
  imageSources: [               // 基础域名/根目录（一级源）
    '/',                         // 网站根目录（已修复，可正常使用）
   'https://gpc234.github.io',  // 其他基础域名（已去除/tupian）
    'http://a.gpc234.wuaze.com',
    'http://n.gpc234.wuaze.com',
    'http://m.gpc234.wuaze.com',
    'http://gpc234.wuaze.com',
    'http://mdc.freevar.com',
    'http://gpc234.freevar.com',
    'https://je105kd940602.vicp.fun',
    'http://je105kd940602.vicp.fun',
    'http://gpc234.66ghz.com',
    'http://gpc234.web1337.net',
    'http://gpc234.kesug.com',
    'http://gpc234.rf.gd',
    'http://gpczxs.7749.org',
    'http://gpczxs.web1337.net',
    'http://gpczxs.66ghz.com',
    'http://gpc234.w1.luyouxia.net',
    'http://t1.pgrm.top:16701',
    'https://gpc234.pgrm.site',
    'http://www.wendasz.com',
    'http://www.mx33.com',
    'http://www.mx33.cn',
    'http://gpc234.hostingem.ru'
  ],
  folderPaths: [                // 完整保留所有原始图片目录
      '/tupian/gpc234/wangshangyonghu/jpg1/',
    '/tupian/gpc234/wangshangyonghu/jpg2/',
    '/tupian/gpc234/wangshangyonghu/jpg3/',
    '/tupian/gpc234/wangshangyonghu/jpg4/',
    '/tupian/gpc234/wangshangyonghu/jpg5/',
    '/tupian/gpc234/wangshangyonghu/jpg6/',
    '/tupian/gpc234/wangshangyonghu/jpg7/',
    '/tupian/gpc234/wangshangyonghu/jpg8/',
    '/tupian/gpc234/wangshangyonghu/jpg9/',
    '/tupian/gpc234/wangshangyonghu/jpg10/',
    '/tupian/gpc234/wangshangyonghu/jpg11/',
    '/tupian/gpc234/wangshangyonghu/jpg12/',
    '/tupian/gpc234/wangshangyonghu/jpg13/',
    '/tupian/gpc234/wangshangyonghu/jpg14/',
    '/tupian/gpc234/wangshangyonghu/jpg15/',
    '/tupian/gpc234/wangshangyonghu/jpg16/',
    '/tupian/gpc234/wangshangyonghu/jpg17/',
    '/tupian/gpc234/wangshangyonghu/jpg18/',
    '/tupian/gpc234/wangshangyonghu/jpg19/',
    '/tupian/gpc234/wangshangyonghu/jpg20/',
    '/tupian/gpc234/wangshangyonghu/jpg21/',
    '/tupian/gpc234/wangshangyonghu/jpg22/',
    '/tupian/gpc234/wangshangyonghu/jpg23/',
    '/tupian/gpc234/wangshangyonghu/jpg24/',
    '/tupian/gpc234/wangshangyonghu/jpg25/',
    '/tupian/gpc234/wangshangyonghu/jpg26/',
    '/tupian/gpc234/wangshangyonghu/jpg27/',
    '/tupian/gpc234/wangshangyonghu/jpg28/',
    '/tupian/gpc234/wangshangyonghu/jpg29/',
    '/tupian/gpc234/wangshangyonghu/jpg30/',
    '/tupian/gpc234/wangshangyonghu/jpg31/',
    '/tupian/gpc234/wangshangyonghu/jpg32/',
    '/tupian/gpc234/wangshangyonghu/jpg33/',
    '/tupian/gpc234/wangshangyonghu/jpg34/',
    '/tupian/gpc234/wangshangyonghu/jpg35/',
    '/tupian/gpc234/wangshangyonghu/jpg36/',
    '/tupian/gpc234/wangshangyonghu/jpg37/',
    '/tupian/gpc234/wangshangyonghu/jpg38/',
    '/tupian/gpc234/wangshangyonghu/jpg39/',
    '/tupian/gpc234/wangshangyonghu/jpg40/',
    '/tupian/gpc234/wangshangyonghu/jpg41/',
    '/tupian/gpc234/wangshangyonghu/jpg42/',
    '/tupian/gpc234/wangshangyonghu/jpg43/',
    '/tupian/gpc234/wangshangyonghu/jpg44/',
    '/tupian/gpc234/wangshangyonghu/jpg45/',
    '/tupian/gpc234/wangshangyonghu/jpg46/',
    '/tupian/gpc234/wangshangyonghu/jpg47/',
    '/tupian/gpc234/wangshangyonghu/jpg48/',
    '/tupian/gpc234/wangshangyonghu/jpg49/',
    '/tupian/gpc234/wangshangyonghu/jpg50/',
  '/xiangce/gpc234/wangshangyonghu/jpg1/',
    '/xiangce/gpc234/wangshangyonghu/jpg2/',
    '/xiangce/gpc234/wangshangyonghu/jpg3/',
    '/xiangce/gpc234/wangshangyonghu/jpg4/',
    '/xiangce/gpc234/wangshangyonghu/jpg5/',
    '/xiangce/gpc234/wangshangyonghu/jpg6/',
    '/xiangce/gpc234/wangshangyonghu/jpg7/',
    '/xiangce/gpc234/wangshangyonghu/jpg8/',
    '/xiangce/gpc234/wangshangyonghu/jpg9/',
    '/xiangce/gpc234/wangshangyonghu/jpg10/',
    '/xiangce/gpc234/wangshangyonghu/jpg11/',
    '/xiangce/gpc234/wangshangyonghu/jpg12/',
    '/xiangce/gpc234/wangshangyonghu/jpg13/',
    '/xiangce/gpc234/wangshangyonghu/jpg14/',
    '/xiangce/gpc234/wangshangyonghu/jpg15/',
    '/xiangce/gpc234/wangshangyonghu/jpg16/',
    '/xiangce/gpc234/wangshangyonghu/jpg17/',
    '/xiangce/gpc234/wangshangyonghu/jpg18/',
    '/xiangce/gpc234/wangshangyonghu/jpg19/',
    '/xiangce/gpc234/wangshangyonghu/jpg20/',
    '/xiangce/gpc234/wangshangyonghu/jpg21/',
    '/xiangce/gpc234/wangshangyonghu/jpg22/',
    '/xiangce/gpc234/wangshangyonghu/jpg23/',
    '/xiangce/gpc234/wangshangyonghu/jpg24/',
    '/xiangce/gpc234/wangshangyonghu/jpg25/',
    '/xiangce/gpc234/wangshangyonghu/jpg26/',
    '/xiangce/gpc234/wangshangyonghu/jpg27/',
    '/xiangce/gpc234/wangshangyonghu/jpg28/',
    '/xiangce/gpc234/wangshangyonghu/jpg29/',
    '/xiangce/gpc234/wangshangyonghu/jpg30/',
    '/xiangce/gpc234/wangshangyonghu/jpg31/',
    '/xiangce/gpc234/wangshangyonghu/jpg32/',
    '/xiangce/gpc234/wangshangyonghu/jpg33/',
    '/xiangce/gpc234/wangshangyonghu/jpg34/',
    '/xiangce/gpc234/wangshangyonghu/jpg35/',
    '/xiangce/gpc234/wangshangyonghu/jpg36/',
    '/xiangce/gpc234/wangshangyonghu/jpg37/',
    '/xiangce/gpc234/wangshangyonghu/jpg38/',
    '/xiangce/gpc234/wangshangyonghu/jpg39/',
    '/xiangce/gpc234/wangshangyonghu/jpg40/',
    '/xiangce/gpc234/wangshangyonghu/jpg41/',
    '/xiangce/gpc234/wangshangyonghu/jpg42/',
    '/xiangce/gpc234/wangshangyonghu/jpg43/',
    '/xiangce/gpc234/wangshangyonghu/jpg44/',
    '/xiangce/gpc234/wangshangyonghu/jpg45/',
    '/xiangce/gpc234/wangshangyonghu/jpg46/',
    '/xiangce/gpc234/wangshangyonghu/jpg47/',
    '/xiangce/gpc234/wangshangyonghu/jpg48/',
    '/xiangce/gpc234/wangshangyonghu/jpg49/',
    '/xiangce/gpc234/wangshangyonghu/jpg50/',
    '/xiangce/gpc234/wangshangyonghu/jpg51/',
    '/xiangce/gpc234/wangshangyonghu/jpg52/',
    '/xiangce/gpc234/wangshangyonghu/jpg53/',
    '/xiangce/gpc234/wangshangyonghu/jpg54/',
    '/xiangce/gpc234/wangshangyonghu/jpg55/',
    '/xiangce/gpc234/wangshangyonghu/jpg56/',
    '/xiangce/gpc234/wangshangyonghu/jpg57/',
    '/xiangce/gpc234/wangshangyonghu/jpg58/',
    '/xiangce/gpc234/wangshangyonghu/jpg59/',
    '/xiangce/gpc234/wangshangyonghu/jpg60/'
  ],

 
  numberRange: {                // 图片编号范围
    original: [1, 1000],        // 主编号范围
    fallback: [1, 13]           // 备用编号范围
  },
  maxRetry: 50,                 // 最大重试次数
  retryDelay: 500               // 重试间隔（毫秒）
};

// 3. 核心逻辑：初始化单张图片的随机加载（保留原修复逻辑）
function initSingleRandomImage(imgId, baseConfig) {
  const img = document.getElementById(imgId);
  if (!img) {
    console.error('未找到图片元素，ID:', imgId);
    return;
  }

  let triedCombinations = new Set(); // 记录已尝试的（源+目录）组合
  let usingFallbackNumber = false;   // 是否使用备用编号
  let retryCount = 0;                // 当前重试次数

  // 修复核心：正确拼接路径（处理根目录/域名场景，避免双斜杠）
  function getRandomImageUrl() {
    const totalCombinations = baseConfig.imageSources.length * baseConfig.folderPaths.length;
    // 所有组合尝试完毕：重置状态，避免无法重试
    if (triedCombinations.size >= totalCombinations) {
      triedCombinations.clear();
      usingFallbackNumber = false;
      retryCount = 0;
      return null;
    }

    // 找到未尝试过的（源+目录）组合
    while (true) {
      const randomSource = baseConfig.imageSources[getRandomNumber(0, baseConfig.imageSources.length - 1)];
      const randomFolder = baseConfig.folderPaths[getRandomNumber(0, baseConfig.folderPaths.length - 1)];
      const combinationKey = `${randomSource}|${randomFolder}`;

      if (!triedCombinations.has(combinationKey)) {
        triedCombinations.add(combinationKey);
        // 选择编号范围（主/备用）
        const [minNum, maxNum] = usingFallbackNumber 
          ? baseConfig.numberRange.fallback 
          : baseConfig.numberRange.original;
        const randomNum = getRandomNumber(minNum, maxNum);

        // 路径清洗：移除目录开头的斜杠，避免根目录拼接时出现双斜杠
        const cleanedFolder = randomFolder.startsWith('/') ? randomFolder.slice(1) : randomFolder;
        let imageUrl;

        if (randomSource === '/') {
          // 根目录场景：正确拼接为 "/目录/编号.jpg"
          imageUrl = `${randomSource}${cleanedFolder}${randomNum}.jpg`;
        } else {
          // 域名场景：移除域名结尾斜杠（若有），拼接为 "域名/目录/编号.jpg"
          imageUrl = `${randomSource.replace(/\/$/, '')}/${cleanedFolder}${randomNum}.jpg`;
        }

        return imageUrl;
      }
    }
  }

  // 加载图片（含失败重试逻辑）
  function loadImage() {
    if (retryCount >= baseConfig.maxRetry) {
      img.src = '';
      img.alt = '网上用户的图片（加载失败）';
      console.warn('已达最大重试次数，停止加载');
      return;
    }

    const imageUrl = getRandomImageUrl();
    if (!imageUrl) {
      retryCount++;
      if (retryCount >= baseConfig.maxRetry) {
        img.src = '';
        img.alt = '网上用户的图片（加载失败）';
        console.warn('无可用图片组合，停止加载');
        return;
      }
      console.log(`无可用组合，重试中（${retryCount}/${baseConfig.maxRetry}）`);
      setTimeout(loadImage, baseConfig.retryDelay);
      return;
    }

    // 尝试加载图片
    img.src = imageUrl;
    console.log(`尝试加载（${retryCount + 1}/${baseConfig.maxRetry}）:`, imageUrl);
  }

  // 加载成功：重置状态
  img.addEventListener('load', () => {
    img.alt = '网上用户的图片,搜索:网上用户,公平村,GPC234,GPCZXS';
    console.log('图片加载成功:', img.src);
    triedCombinations.clear();
    usingFallbackNumber = false;
    retryCount = 0;
  });

  // 加载失败：切换备用编号/组合重试
  img.addEventListener('error', () => {
    console.error('加载失败:', img.src);
    retryCount++;

    // 1次失败后切换备用编号范围
    if (!usingFallbackNumber && retryCount >= 1) {
      usingFallbackNumber = true;
      console.log('切换到备用编号范围（1-13）重试');
    }

    setTimeout(loadImage, baseConfig.retryDelay);
  });

  // 初始加载图片
  loadImage();
}

// 4. 批量初始化所有图片（需与上方<img>标签的id对应）
const imageIds = ['randomJpg1', 'randomJpg2', 'randomJpg3']; // 如需更多图片，在此处添加id（如'randomJpg4'）
imageIds.forEach(imgId => {
  initSingleRandomImage(imgId, baseConfig);
});
</script>
<!--自动随机图片-->

