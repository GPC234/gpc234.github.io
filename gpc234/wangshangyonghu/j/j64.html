<!doctype html> <!-- 声明文档类型为 HTML5 -->
<html lang="zh-cn"> <!-- 定义 HTML 文档，语言设置为中文（中国大陆） -->
<head> <!-- 文档头部开始，用于包含元数据等信息 -->
    <!-- 设置视口，适用于手机等移动设备，允许用户缩放页面 -->
    <meta name="viewport" content="width=device-width,  user-scalable=yes" />
    <!-- 设置文档的语言为中文（中国大陆） -->
    <meta http-equiv='content-language' content='zh-cn'>
    <!-- 设置网站的图标，适用于普通浏览器 -->
    <link rel="icon" href="/favicon.ico" type="image/x-icon" alt="网上用户">
    <!-- 设置支持任意尺寸的图标 -->
    <link rel="icon" sizes="any" mask href="/favicon.ico" alt="网上用户" />
    <!-- 设置网站的快捷图标 -->
    <link rel="shortcut icon" href="/favicon.ico" alt="网上用户" type="image/x-icon">
    <!-- 设置苹果设备主屏幕上的预合成图标 -->
    <link rel="apple-touch-icon-precomposed" href="/favicon.ico" alt="网上用户">
    <!-- 设置苹果设备主屏幕上的图标 -->
    <link rel="apple-touch-icon" href="/favicon.ico" alt="网上用户">
    <!-- 设置文档的字符编码为 UTF-8，防止网页出现乱码 -->
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
           <!-- 设置所有链接无下划线样式，并添加粗体样式 -->
<!-- css样式定义部分开始 --><style type="text/css">
  /* 为所有的 a 标签设置样式 */
  A {
    /* 去除 a 标签的下划线 */
    TEXT-DECORATION: none;
    /* 为 a 标签设置粗体样式 */
    font-weight: bold;
font-size: 32px;    /* 为 a 标签设置字体大小 */
  }</style><!-- css样式定义部分结束 --> 


 <title>时间单位自动换算一搜索:网上用户</title>
<meta name="keywords" content="替换,搜索:网上用户,网上用户,上网用户,公平村,张先生,网名张先生,公平村张先生,网上用户的图片,网上用户的个人主页,网上用户的个人首页,网上用户的个人中心,网上用户的档案,公平村张先生,艺名张先生,网民张先生,网号张先生,用户名张先生,账号张先生,客家人张先生,网名张先生,GPC234,GPCZXS,上网用户," /><!--关键词-->
<meta name="description" content="" />
</head> <!-- 文档头部结束 -->

<span style="font-size: 18px;"><!--字体大小-->
<strong><!--加粗-->

<!--左上角-->&nbsp; &nbsp; <a href="../jpg/h1.jpg" target="_blank">
<img src="../jpg/h1.jpg" alt="网上用户" width="" height="35" title="" align="" /></a>
<a id="gpc234" href="../y/h1.html" target="_blank"><img src="../jpg/h2.jpg" alt="搜索:网上用户" width="" height="35" title="" align="" /></a><!--左上角-->

<hr color=0066FF> <!--分界线-->

<center><!--居中-->
<body><!--内容开始body-->

    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 600px;
            margin: 20px auto;
            padding: 20px;
        }
        h1 {
            text-align: center;
            margin-bottom: 20px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 10px;
            text-align: center;
        }
        th {
            background-color: #f2f2f2;
        }
        input {
            width: 90%;
            padding: 8px;
            text-align: right;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        .error {
            border-color: #ff0000;
            background-color: #ffebee;
        }
    </style>
</head>
<body>
    <h1>时间单位自动换算</h1>
    <table>
        <thead>
            <tr>
                <th>单位</th>
                <th>符号</th>
                <th>输入值</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>年</td>
                <td>y</td>
                <td><input type="text" oninput="convertTime(this)" data-unit="year"></td>
            </tr>
            <tr>
                <td>月</td>
                <td>M</td>
                <td><input type="text" oninput="convertTime(this)" data-unit="month"></td>
            </tr>
            <tr>
                <td>周</td>
                <td>w</td>
                <td><input type="text" oninput="convertTime(this)" data-unit="week"></td>
            </tr>
            <tr>
                <td>日</td>
                <td>d</td>
                <td><input type="text" oninput="convertTime(this)" data-unit="day"></td>
            </tr>
            <tr>
                <td>小时</td>
                <td>h</td>
                <td><input type="text" oninput="convertTime(this)" data-unit="hour"></td>
            </tr>
            <tr>
                <td>分钟</td>
                <td>m</td>
                <td><input type="text" oninput="convertTime(this)" data-unit="minute"></td>
            </tr>
            <tr>
                <td>秒</td>
                <td>s</td>
                <td><input type="text" oninput="convertTime(this)" data-unit="second"></td>
            </tr>
            <tr>
                <td>毫秒</td>
                <td>ms</td>
                <td><input type="text" oninput="convertTime(this)" data-unit="millisecond"></td>
            </tr>
        </tbody>
    </table>

    <script>
        // 时间单位换算核心逻辑（严格1年=12个月）
        function convertTime(inputElem) {
            const unit = inputElem.getAttribute('data-unit');
            let inputVal = inputElem.value.trim();
            
            // 重置所有输入框样式
            document.querySelectorAll('input[data-unit]').forEach(input => {
                input.classList.remove('error');
            });
            
            // 处理空输入
            if (inputVal === "") {
                clearAllInputs();
                return;
            }

            // 允许输入过程中的临时不完整值
            if (inputVal === '.' || inputVal === '-' || inputVal === '-.') {
                return;
            }

            // 尝试解析输入值
            const num = parseFloat(inputVal);
            
            // 检查输入是否有效
            if (isNaN(num) || !isValidNumber(inputVal)) {
                inputElem.classList.add('error');
                return;
            }

            // 以毫秒为中间单位（严格定义年和月）
            const baseConversions = {
                year: 365 * 24 * 60 * 60 * 1000,     // 1年 = 365天（不考虑闰年）
                month: 365 * 24 * 60 * 60 * 1000 / 12, // 1月 = 1年/12（精确值）
                week: 7 * 24 * 60 * 60 * 1000,
                day: 24 * 60 * 60 * 1000,
                hour: 60 * 60 * 1000,
                minute: 60 * 1000,
                second: 1000,
                millisecond: 1
            };

            // 转换为毫秒
            let milliseconds = num * baseConversions[unit];

            // 从毫秒转换为所有单位
            const results = {
                year: milliseconds / baseConversions.year,
                month: milliseconds / baseConversions.month,
                week: milliseconds / baseConversions.week,
                day: milliseconds / baseConversions.day,
                hour: milliseconds / baseConversions.hour,
                minute: milliseconds / baseConversions.minute,
                second: milliseconds / baseConversions.second,
                millisecond: milliseconds / baseConversions.millisecond
            };

            // 更新所有输入框
            Object.keys(results).forEach(unitKey => {
                updateInput(unitKey, results[unitKey]);
            });
        }

        // 验证输入是否为有效的数字格式
        function isValidNumber(str) {
            const numberPattern = /^[+-]?(\d+(\.\d*)?|\.\d+)([eE][+-]?\d+)?$/;
            return numberPattern.test(str);
        }

        // 更新单个输入框的值（保留6位小数，优化显示）
        function updateInput(unit, value) {
            const input = document.querySelector(`input[data-unit="${unit}"]`);
            
            // 格式化数值显示
            let formattedValue;
            if (Math.abs(value) < 1e-6 || Math.abs(value) >= 1e21) {
                formattedValue = value.toExponential(6);
            } else {
                formattedValue = value.toFixed(6).replace(/\.?0+$/, '');
            }
            
            input.value = formattedValue;
        }

        // 清空所有输入框
        function clearAllInputs() {
            document.querySelectorAll('input[data-unit]').forEach(input => {
                input.value = "";
            });
        }
    </script>
</body>
</html>