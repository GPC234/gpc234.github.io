<!doctype html> <!-- 声明文档类型为 HTML5 -->
<html lang="zh-cn"> <!-- 定义 HTML 文档，语言设置为中文（中国大陆） -->
<head> <!-- 文档头部开始，用于包含元数据等信息 -->
    <!-- 设置视口，适用于手机等移动设备，允许用户缩放页面 -->
    <meta name="viewport" content="width=device-width,  user-scalable=yes" />
    <!-- 设置文档的语言为中文（中国大陆） -->
    <meta http-equiv='content-language' content='zh-cn'>
    <!-- 设置网站的图标，适用于普通浏览器 -->
    <link rel="icon" href="/favicon.ico" type="image/x-icon" alt="网上用户">
    <!-- 设置支持任意尺寸的图标 -->
    <link rel="icon" sizes="any" mask href="/favicon.ico" alt="网上用户" />
    <!-- 设置网站的快捷图标 -->
    <link rel="shortcut icon" href="/favicon.ico" alt="网上用户" type="image/x-icon">
    <!-- 设置苹果设备主屏幕上的预合成图标 -->
    <link rel="apple-touch-icon-precomposed" href="/favicon.ico" alt="网上用户">
    <!-- 设置苹果设备主屏幕上的图标 -->
    <link rel="apple-touch-icon" href="/favicon.ico" alt="网上用户">
    <!-- 设置文档的字符编码为 UTF-8，防止网页出现乱码 -->
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
           <!-- 设置所有链接无下划线样式，并添加粗体样式 -->
<!-- css样式定义部分开始 --><style type="text/css">
  /* 为所有的 a 标签设置样式 */
  A {
    /* 去除 a 标签的下划线 */
    TEXT-DECORATION: none;
    /* 为 a 标签设置粗体样式 */
    font-weight: bold;
font-size: 32px;    /* 为 a 标签设置字体大小 */
  }</style><!-- css样式定义部分结束 --> 


 <title>搜索:网上用户</title>
<meta name="keywords" content="搜索:网上用户,网上用户,上网用户,公平村,张先生,网名张先生,公平村张先生,网上用户的图片,网上用户的个人主页,网上用户的个人首页,网上用户的个人中心,网上用户的档案,公平村张先生,艺名张先生,网民张先生,网号张先生,用户名张先生,账号张先生,客家人张先生,网名张先生,GPC234,GPCZXS,上网用户," /><!--关键词-->
<meta name="description" content="搜索:网上用户" />
</head> <!-- 文档头部结束 -->

<span style="font-size: 18px;"><!--字体大小-->
<strong><!--加粗-->

<!--左上角-->&nbsp; &nbsp; <a href="../h/h4.jpg" target="_blank">
<img src="../h/h4.jpg" alt="网上用户" width="" height="35" title="" align="" /></a>
<a id="gpc234" href="../h/h1.html" target="_blank"><img src="../h/h2.jpg" alt="搜索:网上用户" width="" height="35" title="" align="" /></a><!--左上角-->

<hr color=0066FF> <!--分界线-->

<center><!--居中-->
<body><!--内容开始body-->
<!--文档内容开始......-->

<!--自动随机图片-->
<!--自动随机图片-->
<!-- 第1张随机图片 -->
<img id="randomJpg1" src="" alt="网上用户的图片,搜索:网上用户,公平村,GPC234,GPCZXS" width="350" style="height: auto; margin: 10px;" />
<!-- 第2张随机图片 -->
<img id="randomJpg2" src="" alt="网上用户的图片,搜索:网上用户,公平村,GPC234,GPCZXS" width="350" style="height: auto; margin: 10px;" />
<!-- 第3张随机图片 -->
<img id="randomJpg3" src="" alt="网上用户的图片,搜索:网上用户,公平村,GPC234,GPCZXS" width="350" style="height: auto; margin: 10px;" />
<!-- 如需更多图片，复制上方<img>标签并修改id（如randomJpg4、randomJpg5） -->

<script>
// 1. 生成指定范围的随机数（工具函数）
const getRandomNumber = (min, max) => Math.floor(Math.random() * (max - min + 1)) + min;

// 2. 完整配置项（保留原代码所有目录、域名，无任何省略）
const baseConfig = {
  imageSources: [               // 基础域名/根目录（一级源）
    '/',                         // 网站根目录（已修复，可正常使用）
    'https://gpc234.github.io',  // 其他基础域名（已去除/tupian）
    'http://a.gpc234.wuaze.com',
    'http://n.gpc234.wuaze.com',
    'http://m.gpc234.wuaze.com',
    'http://gpc234.wuaze.com',
    'http://mdc.freevar.com',
    'http://gpc234.freevar.com',
    'https://je105kd940602.vicp.fun',
    'http://je105kd940602.vicp.fun',
    'http://gpc234.66ghz.com',
    'http://gpc234.web1337.net',
    'http://gpc234.kesug.com',
    'http://gpc234.rf.gd',
    'http://gpczxs.7749.org',
    'http://gpczxs.web1337.net',
    'http://gpczxs.66ghz.com',
    'http://gpc234.w1.luyouxia.net',
    'http://t1.pgrm.top:16701',
    'https://gpc234.pgrm.site',
    'http://www.wendasz.com',
    'http://www.mx33.com',
    'http://www.mx33.cn',
    'http://gpc234.hostingem.ru'
  ],
    folderPaths: [                // 完整保留所有原始图片目录
    '/tupian/gpc234/wangshangyonghu/tu1/jpg/',
    '/tupian/gpc234/wangshangyonghu/tu2/jpg/',
    '/tupian/gpc234/wangshangyonghu/tu3/jpg/',
    '/tupian/gpc234/wangshangyonghu/tu4/jpg/',
    '/tupian/gpc234/wangshangyonghu/tu5/jpg/',
    '/tupian/gpc234/wangshangyonghu/tu6/jpg/',
    '/tupian/gpc234/wangshangyonghu/tu7/jpg/',
    '/tupian/gpc234/wangshangyonghu/tu8/jpg/',
    '/tupian/gpc234/wangshangyonghu/tu9/jpg/',
    '/tupian/gpc234/wangshangyonghu/tu10/jpg/',
    '/tupian/gpc234/wangshangyonghu/tu11/jpg/',
    '/tupian/gpc234/wangshangyonghu/tu12/jpg/',
    '/tupian/gpc234/wangshangyonghu/tu13/jpg/',
    '/tupian/gpc234/wangshangyonghu/tu14/jpg/',
    '/tupian/gpc234/wangshangyonghu/tu15/jpg/',
    '/tupian/gpc234/wangshangyonghu/tu16/jpg/',
    '/tupian/gpc234/wangshangyonghu/tu17/jpg/',
    '/tupian/gpc234/wangshangyonghu/tu18/jpg/',
    '/tupian/gpc234/wangshangyonghu/tu19/jpg/',
    '/tupian/gpc234/wangshangyonghu/tu20/jpg/',
    '/tupian/gpc234/wangshangyonghu/tu21/jpg/',
    '/tupian/gpc234/wangshangyonghu/tu22/jpg/',
    '/tupian/gpc234/wangshangyonghu/tu23/jpg/',
    '/tupian/gpc234/wangshangyonghu/tu24/jpg/',
    '/tupian/gpc234/wangshangyonghu/tu25/jpg/',
    '/tupian/gpc234/wangshangyonghu/tu26/jpg/',
    '/tupian/gpc234/wangshangyonghu/tu27/jpg/',
    '/tupian/gpc234/wangshangyonghu/tu28/jpg/',
    '/tupian/gpc234/wangshangyonghu/tu29/jpg/',
    '/tupian/gpc234/wangshangyonghu/tu30/jpg/',
  '/tupian/gpc234/wangshangyonghu/tu31/jpg/',
  '/tupian/gpc234/wangshangyonghu/tu32/jpg/',
  '/tupian/gpc234/wangshangyonghu/tu33/jpg/',
  '/tupian/gpc234/wangshangyonghu/tu34/jpg/',
  '/tupian/gpc234/wangshangyonghu/tu35/jpg/',
  '/tupian/gpc234/wangshangyonghu/tu36/jpg/',
  '/tupian/gpc234/wangshangyonghu/tu37/jpg/',
  '/tupian/gpc234/wangshangyonghu/tu38/jpg/',
  '/tupian/gpc234/wangshangyonghu/tu39/jpg/',
  '/tupian/gpc234/wangshangyonghu/tu40/jpg/',
  '/tupian/gpc234/wangshangyonghu/tu41/jpg/',
  '/tupian/gpc234/wangshangyonghu/tu42/jpg/',
  '/tupian/gpc234/wangshangyonghu/tu43/jpg/',
  '/tupian/gpc234/wangshangyonghu/tu44/jpg/',
  '/tupian/gpc234/wangshangyonghu/tu45/jpg/',
  '/tupian/gpc234/wangshangyonghu/tu46/jpg/',
  '/tupian/gpc234/wangshangyonghu/tu47/jpg/',
  '/tupian/gpc234/wangshangyonghu/tu48/jpg/',
  '/tupian/gpc234/wangshangyonghu/tu49/jpg/',
  '/tupian/gpc234/wangshangyonghu/tu50/jpg/',
  '/tupian/gpc234/wangshangyonghu/tu51/jpg/',
  '/tupian/gpc234/wangshangyonghu/tu52/jpg/',
  ],

  numberRange: {                // 图片编号范围
    original: [1, 100],        // 主编号范围
    fallback: [1, 13]           // 备用编号范围
  },
  maxRetry: 50,                 // 最大重试次数
  retryDelay: 500               // 重试间隔（毫秒）
};

// 3. 核心逻辑：初始化单张图片的随机加载（保留原修复逻辑）
function initSingleRandomImage(imgId, baseConfig) {
  const img = document.getElementById(imgId);
  if (!img) {
    console.error('未找到图片元素，ID:', imgId);
    return;
  }

  let triedCombinations = new Set(); // 记录已尝试的（源+目录）组合
  let usingFallbackNumber = false;   // 是否使用备用编号
  let retryCount = 0;                // 当前重试次数

  // 修复核心：正确拼接路径（处理根目录/域名场景，避免双斜杠）
  function getRandomImageUrl() {
    const totalCombinations = baseConfig.imageSources.length * baseConfig.folderPaths.length;
    // 所有组合尝试完毕：重置状态，避免无法重试
    if (triedCombinations.size >= totalCombinations) {
      triedCombinations.clear();
      usingFallbackNumber = false;
      retryCount = 0;
      return null;
    }

    // 找到未尝试过的（源+目录）组合
    while (true) {
      const randomSource = baseConfig.imageSources[getRandomNumber(0, baseConfig.imageSources.length - 1)];
      const randomFolder = baseConfig.folderPaths[getRandomNumber(0, baseConfig.folderPaths.length - 1)];
      const combinationKey = `${randomSource}|${randomFolder}`;

      if (!triedCombinations.has(combinationKey)) {
        triedCombinations.add(combinationKey);
        // 选择编号范围（主/备用）
        const [minNum, maxNum] = usingFallbackNumber 
          ? baseConfig.numberRange.fallback 
          : baseConfig.numberRange.original;
        const randomNum = getRandomNumber(minNum, maxNum);

        // 路径清洗：移除目录开头的斜杠，避免根目录拼接时出现双斜杠
        const cleanedFolder = randomFolder.startsWith('/') ? randomFolder.slice(1) : randomFolder;
        let imageUrl;

        if (randomSource === '/') {
          // 根目录场景：正确拼接为 "/目录/编号.jpg"
          imageUrl = `${randomSource}${cleanedFolder}${randomNum}.jpg`;
        } else {
          // 域名场景：移除域名结尾斜杠（若有），拼接为 "域名/目录/编号.jpg"
          imageUrl = `${randomSource.replace(/\/$/, '')}/${cleanedFolder}${randomNum}.jpg`;
        }

        return imageUrl;
      }
    }
  }

  // 加载图片（含失败重试逻辑）
  function loadImage() {
    if (retryCount >= baseConfig.maxRetry) {
      img.src = '';
      img.alt = '网上用户的图片（加载失败）';
      console.warn('已达最大重试次数，停止加载');
      return;
    }

    const imageUrl = getRandomImageUrl();
    if (!imageUrl) {
      retryCount++;
      if (retryCount >= baseConfig.maxRetry) {
        img.src = '';
        img.alt = '网上用户的图片（加载失败）';
        console.warn('无可用图片组合，停止加载');
        return;
      }
      console.log(`无可用组合，重试中（${retryCount}/${baseConfig.maxRetry}）`);
      setTimeout(loadImage, baseConfig.retryDelay);
      return;
    }

    // 尝试加载图片
    img.src = imageUrl;
    console.log(`尝试加载（${retryCount + 1}/${baseConfig.maxRetry}）:`, imageUrl);
  }

  // 加载成功：重置状态
  img.addEventListener('load', () => {
    img.alt = '网上用户的图片,搜索:网上用户,公平村,GPC234,GPCZXS';
    console.log('图片加载成功:', img.src);
    triedCombinations.clear();
    usingFallbackNumber = false;
    retryCount = 0;
  });

  // 加载失败：切换备用编号/组合重试
  img.addEventListener('error', () => {
    console.error('加载失败:', img.src);
    retryCount++;

    // 1次失败后切换备用编号范围
    if (!usingFallbackNumber && retryCount >= 1) {
      usingFallbackNumber = true;
      console.log('切换到备用编号范围（1-13）重试');
    }

    setTimeout(loadImage, baseConfig.retryDelay);
  });

  // 初始加载图片
  loadImage();
}

// 4. 批量初始化所有图片（需与上方<img>标签的id对应）
const imageIds = ['randomJpg1', 'randomJpg2', 'randomJpg3']; // 如需更多图片，在此处添加id（如'randomJpg4'）
imageIds.forEach(imgId => {
  initSingleRandomImage(imgId, baseConfig);
});
</script>
<!--自动随机图片-->

<!--自动随机图片-->

<!--底下显示-->
<hr style=" height:5px;border:none;border-top:2px dotted #ff3844;" />
 <script src="/gpc234/wangshangyonghu/js/tua.js"></script>
<div id="gpczxstua"></div>
<hr style=" height:5px;border:none;border-top:2px dotted #ff3844;" />
<!--底下显示-->