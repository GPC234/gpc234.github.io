<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>淘宝商品搜索</title>
<meta name="keywords" content="搜索:网上用户,网上用户,上网用户,用户,公平村,GPC234,GPCZXS" /><!--关键词-->
</head> <!-- 文档头部结束 -->  
<!--商品搜索-->
<!-- 搜索区域 -->
<style>
    body {
        font-family: "PingFang SC", "Helvetica Neue", Arial, sans-serif;
        margin: 0;
        padding: 20px;
        background-color: #f5f5f5;
    }
    .search-wrapper {
        max-width: 700px;
        margin: 20px auto;
    }
    .search-form {
        display: flex;
        height: 44px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    .search-input {
        flex: 1;
        padding: 0 15px;
        border: 1px solid #ff4400;
        border-right: none;
        outline: none;
        font-size: 14px;
        border-radius: 4px 0 0 4px;
        box-sizing: border-box;
    }
    .search-btn {
        min-width: 80px;
        background-color: #ff4400;
        color: white;
        border: none;
        font-size: 16px;
        border-radius: 0 4px 4px 0;
        cursor: pointer;
        transition: background-color 0.2s;
    }
    .search-btn:hover {
        background-color: #f53f00;
    }
    .search-tip {
        max-width: 700px;
        margin: 10px auto;
        font-size: 12px;
        color: #666;
    }
</style>
</head>
<body>
    <div class="search-wrapper">
        <form class="search-form" id="searchForm">
            <input type="search" 
                   class="search-input" 
                   name="q" 
                   placeholder="请输入搜索关键词（如：铆钉）" 
                   required>
            <button type="submit" class="search-btn">搜索</button>
        </form>
    </div>

    <script>
        // 1. 判断设备类型（手机或电脑）
        function isMobileDevice() {
            return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
        }

        // 2. 定义各端链接（手机端含APP Scheme和网页链接，电脑端用PC网页链接）
        const urls = {
            mobileApp: "taobao://ai.m.taobao.com/search.html?&pid=mm_5518923388_3058500304_116069600003&union_lens=lensId%3APUB%401761006738%400b8f386d_1236_19a042e5ba0_058e%4001&q=",
            mobileWeb: "https://ai.m.taobao.com/search.html?&pid=mm_5518923388_3058500304_116069600003&union_lens=lensId%3APUB%401761006738%400b8f386d_1236_19a042e5ba0_058e%4001&q=",
            pcWeb: "https://ai.taobao.com/search/index.htm?&pid=mm_5518923388_3058500304_116069600003&union_lens=lensId%3APUB%401761007367%400bbb5ce5_21f4_19a0437f5b8_0586%4001&key="
        };

        window.addEventListener('load', function() {
            const searchInput = document.querySelector('.search-input');
            searchInput.focus();

            const searchForm = document.getElementById('searchForm');
            searchForm.addEventListener('submit', function(e) {
                e.preventDefault();
                const inputValue = searchInput.value.trim();

                if (!inputValue) {
                    alert('请输入搜索关键词');
                    return;
                }

                const encodedKeyword = encodeURIComponent(inputValue);
                const isMobile = isMobileDevice();

                // 3. 设备区分处理：手机端优先跳APP，电脑端直接跳PC网页
                if (isMobile) {
                    // 尝试通过iframe触发手机淘宝APP跳转
                    const iframe = document.createElement('iframe');
                    iframe.style.display = 'none';
                    iframe.src = urls.mobileApp + encodedKeyword;
                    document.body.appendChild(iframe);

                    // 300毫秒后检测，若APP未打开则跳转移动端网页
                    setTimeout(() => {
                        document.body.removeChild(iframe);
                        window.location.href = urls.mobileWeb + encodedKeyword;
                    }, 300);
                } else {
                    // 电脑端直接跳转PC网页链接
                    window.location.href = urls.pcWeb + encodedKeyword;
                }
            });
        });
    </script>

</body>
</html>